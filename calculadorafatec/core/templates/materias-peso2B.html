{% extends 'base.html' %}
{% load static%}

{% block 'head' %} 
    <meta name="description" content="Calculadora Fatec é uma ferramenta para auxiliar candidatos a ingressarem nas instituições Fatecs. Armazenamos todas as demandas e notas de cortes dos vestibulares e expertize para conduzir um melhor resultado para o vestibular. Por isso, Calculadora Fatec, quem usa, sabe. Assine agora o serviço e se aproxime do seu objetivo em ser um aluno da Fatec. VEM PRA FATEC! Os candidatos podem usar a ferramenta para Calcular a Nota do Vestibular, Consultar os Guias de Fatecs e Cursos e prepare-se melhor para o exame do Vestibular.">
    <link href="https://cdn.datatables.net/1.13.1/css/jquery.dataTables.min.css" rel="stylesheet" />
    <link href="{% static 'core/css/materiaspeso2.css' %}" rel="stylesheet" />   
{% endblock %}

{% block 'title' %}MATÉRIAS DE PESO 2: Calculadora FATEC::Quem Usa, SABE! {% endblock %}

{% block 'body' %}
<div class="container">
    <div class="py-5 text-center text-light">
        <img class="d-block mx-auto mb-4" src="{% static 'core/img/calculadora.png' %}" alt="" />
        <h1>Matéras de peso 2B - Vestibular Fatec</h1>
        <p class="lead">
            As matérias de peso 2 são <strong>duas disciplinas da prova</strong> que correspondem a área de conhecimento principal do eixo tecnológico do curso escolhido.
        </p>
    </div>    
    <hr class="my-4" />
    <div class="row">  
        <div class="col-12 bg-light  ">
            <form  class="form bg-secondary bg-gradient p-3 mt-3" action="{% url 'materias-prova-peso2B' %}" method="GET">{% csrf_token %}
                <div class="row g-3 align-items-center "   > 

                        <div class="col-md">                            
                            <label for="nome-curso" class="form-label text-white">Pesquise pelo nome do curso:</label>
                            <input type="text" placeholder="Busque pelo nome do curso" class="form-control form-control-lg mb-3" id="nome-curso" name="nome-curso" />
                        </div>

                        <div class="col-md">
                            <label for="eixo-texnologico" class="form-label text-white">Pesquise pelo eixo tecnológico:</label>
                            <select class="form-select form-select-lg mb-3" name="eixo-texnologico" id="eixo-texnologico">
                                <option value="">-----------</option>
                                {% for eixo in eixo_tecnologicos %}
                                    <option value="{{eixo.id}}">{{eixo}}</option>
                                {% endfor %}
                            </select>
                        </div>
                    
                    <div class="col-md">
                        <input type="submit" value="FILTRAR" class="btn btn-lg btn-primary  mt-4" />
                    </div>
                </div>
            </form>            
            <table id="CursoMateria" class="table table-striped table-hover" cellspacing="0" width="100%">
                <caption class="caption-top">Listagem de cursos e matérias de peso 2 correspondente</caption>
                <thead>
                    <tr>
                        <th>Curso</th>
                        <th>Eixo Tecnológico</th>
                        <th>Matéria</th>
                        <th>Matéria</th>
                    </tr>
                </thead>
                {% if items_cursos_page %}
                <tbody class="table-group-divider">
                    {% for curso in items_cursos_page %}
                        <!-- {{forloop.revcounter}} -->
                        <tr id="{{curso.id}}">
                            <td>{{curso.curso}}</td>
                            <td>{{curso.eixo_tecnologico}}</td>
                            <td class="{{curso.materia_1}}">{{curso.get_materia_1_display|title }}</td>
                            <td class="{{curso.materia_2}}">{{curso.get_materia_2_display|title}}</td>
                        </tr>
                    {% empty %}
                        <tr><td colspan="3">Não tem nenhum curso disponível</td></tr>
                    {% endfor %}                      
                    <tr></tr>
                </tbody>
                <div class="">
                    <div class="">
                        <select class="form-select" id="floatingSelect" aria-label="Floating label select example" name="quantidades_cursos">
                          <option value="1" selected>1</option>
                          <option value="5">5</option>                         
                          <option value="10">10</option>
                          <option value="50">50</option>
                          <option value="75">75</option>
                          <option value="100">100</option>
                        </select>
                        <label for="floatingSelect">Itens exibidos na tabela</label>
                      </div>                    
                    <nav  class="navbar navbar-expand bg-light navbar-light bottom" aria-label="Page navigation example">
                        {% if items_cursos_page.has_other_pages %}
                        <div class="btn-group" role="group" aria-label="Item pagination">
                            {% if items_cursos_page.has_previous %}
                                <a href="?page={{ items_cursos_page.previous_page_number }}" class="btn btn-outline-primary">&laquo;</a>
                            {% endif %}
                    
                            {% for page_number in items_cursos_page.paginator.page_range %}
                                {% if items_cursos_page.number == page_number %}
                                    <button class="btn btn-outline-primary active">
                                        <span>{{ page_number }}</span>
                                    </button>
                                {% else %}
                                    <a href="?page={{ page_number }}" class="btn btn-outline-primary">
                                        {{ page_number }}
                                    </a>
                                {% endif %}
                            {% endfor %}
                    
                            {% if items_cursos_page.has_next %}
                                <a href="?page={{ items_page.next_page_number }}" class="btn btn-outline-primary">&raquo;</a>
                            {% endif %}
                        </div>
                        {% endif %}
                    </nav>
                </div>
                {% else %}
                    <p>No items found.</p>
                {% endif %}
            </table>
            
        </div>
    </div>
</div>



{% endblock %}